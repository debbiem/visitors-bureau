<!doctype html>
<html><body itemscope itemtype="http://schema.org/LocalBusiness"
                vocab="http://schema.org/">
<link rel="alternate" type="application/json" href="{{ request.path }}.json">
<title>All Businesses</title>
<a href="{{ url_for('businesslist') }}?sort-by=category">sort by category</a>
<form class="search" method="get">
  <input name="q" type="text" value="{{ request.args["q"] }}">
  {% if 'sort-by' in request.args %}
  <input name="sort-by" type="hidden" value="{{ request.args["sort-by"] }}">
  {% endif %}
  <input class="query" type="submit" value="search">
</form>
<ol>
  {% for business_id, business in businesses %}
  <li>
    Category: {{ categories[business.category] }}
    <a rel="item" href="{{ url_for('business', business_id=business_id) }}">
      {{ business.name }}
    </a>
  </li>
  {% endfor %}
</ol>
<form class="business-editor" action="{{ url_for('businesslist') }}" method="post">
  <label>Name
    <input name="name" itemprop="legalName" type="text">
  </label>
  <br>
  <label>Location
    <input name="location" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress" type="text">
  </label>
  <br>
  <label>URL
    <input name="URL" itemprop="url" type="text">
  </label>
  <br>
   <label>Phone
    <input name="phone" itemprop="telephone" type="text">
  </label>
  <br>
  <label>Hours
    <input name="hours" itemprop="openingHours" itemtype="http://schema.org/Duration" type="text">
  </label>
  <br>
  <label>Rating
    <input name="rating" itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating" itemprop="ratingValue" itemprop="reviewCount" type="text">
  </label>
  <br>
  <label>Description
    <textarea name="description" itemprop="description" itemtype="http://schema.org/text"></textarea>
  </label>
  <br>
  <label>Category
    <input name="category" type="text">
  </label>
  <input class="create" type="submit" value="create new business">
</form>
</body>
</html>
